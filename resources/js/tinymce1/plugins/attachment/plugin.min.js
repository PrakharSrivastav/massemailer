tinymce.PluginManager.add("attachment", function (a, b) {
    a.addButton("Attachment", {text: "My button", icon: !1, onclick: function () {
            a.windowManager.open({title: "Select Attachment", body: [{type: "textbox", name: "title", label: "Title"}], onsubmit: function (b) {
                    a.insertContent("Title: " + b.data.title)
                }})
        }}), a.addMenuItem("attachment", {text: "Attachment plugin", context: "tools", onclick: function () {
            a.windowManager.open({title: "Select Attachment", url: b + base_url + "../../../../../../../../templatecontroller/get_attachment_list", width: 400, height: 200, buttons: [{text: "Insert", onclick: function () {
                            var b = a.windowManager.getWindows()[0];
                            a.insertContent(b.getContentWindow().document.getElementById("content").value), b.close()
                            //a.insertContent(ww.value ), b.close()
                        }}, {text: "Close", onclick: "close"}]})
        }})
});